<div class="container mt-2">
    <div class="section-title">
        <h2>Usuarios</h2>
    </div>
    <div class="table-responsive">
        <button class="btn btn-primary" (click)="exportToExcel()">Exportar a Excel</button>

        <table class="table user-list">
            <thead>
                <tr>
                    <th><span>Avatar</span></th>
                    <th><span>User</span></th>
                    <th><span> Rol </span></th>
                    <th><span>Nacimiento</span></th>
                    <th class="text-center"><span>Email</span></th>
                    <th><span>Email Estado</span></th>
                    <th><span>Usuario Estado</span></th>
                    <th><span>Habilitar</span></th>
                    <th><span>Borrar</span></th>
                    <th><span>H.Clinica</span></th>
                </tr>
            </thead>
            <tbody *ngFor="let item of usuarios">
                <tr>
                    <td>
                        <div class="image-container">
                            <img src="{{ item.photoURL }}" alt="Imagen redonda con sombra">
                        </div>
                    </td>
                    <td>
                        <div class="fs-6">
                            <span class="label label-default">
                                {{ item.nombre }} {{ item.apellido }} </span>
                        </div>
                    </td>


                    <td>
                        <div class="fs-6">
                            <span class="label label-default">
                                {{ item.role | titlecase }} </span>
                        </div>
                    </td>
                    <td>
                        <div class="fs-6"><span class="label label-default">
                                {{ item.fechaNacimiento }}</span>
                        </div>
                    </td>
                    <td>
                        <div class="fs-6">
                            <span class="label label-default">
                                {{ item.email }} </span>
                        </div>
                    </td>
                    <td>
                        <div *ngIf="item.emailVerified">
                            <span class="badge bg-success">Verificado</span>
                        </div>
                        <div *ngIf="!item.emailVerified">
                            <span class="badge bg-danger">Sin Verificar</span>
                        </div>
                    </td>
                    <td>
                        <div *ngIf="item.habilitado">
                            <span class="badge bg-success">Habilitado</span>
                        </div>
                        <div *ngIf="!item.habilitado">
                            <span class="badge bg-danger">Deshabilitado</span>
                        </div>
                    </td>
                    <td>
                        <div class="form-check form-switch" (click)="habilitarEspecialista(item)">
                            <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" [checked]="item.habilitado">
                            <label class="form-check-label" for="flexSwitchCheckDefault"></label>
                        </div>
                    </td>
                    <td>
                        <a (click)="deleteUsuario(item)" class="table-link danger">
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </td>
                    <td>
                        <a (click)="verHistoriaClinica(item)" class="table-link danger">
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-eye fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>